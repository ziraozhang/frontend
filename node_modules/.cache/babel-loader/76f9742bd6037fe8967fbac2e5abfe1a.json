{"ast":null,"code":"var _jsxFileName = \"/Users/zhangzirao/Desktop/website/Archive/src/component/Album.js\";\nimport React, { Component } from 'react'; // import Dimensions from 'react-dimensions';\n\nimport { Card, CardColumns, Col, Row } from 'react-bootstrap';\n\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      id: null,\n      type: null,\n      generalwidth: null\n    };\n    this.myInput = React.createRef();\n  }\n\n  getdata() {\n    let mycomp = this;\n    fetch('/data/data.json').then(function (response) {\n      return response.json();\n    }).then(function (responseData) {\n      // console.log(responseData)\n      mycomp.setState({\n        data: responseData[mycomp.state.type]\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.type !== nextProps.type) {\n      console.log(this.props.type);\n      this.setState({\n        type: nextProps.type\n      });\n      this.getdata();\n    }\n  }\n\n  componentDidMount() {\n    var _id = this.props.match.params.id;\n    this.setState({\n      id: _id,\n      type: this.props.type\n    });\n    this.getdata();\n    console.log(window.innerWidth, window.innerHeight, this.myInput.current.offsetWidth);\n    this.setState({\n      generalwidth: this.myInput.current.offsetWidth\n    });\n  }\n\n  render() {\n    var items, i, sf, namefont;\n    items = [];\n    sf = {\n      \"name\": \"Unknown\",\n      \"column\": 0\n    };\n    console.log(this.state.data);\n\n    if (this.state.data !== null) {\n      for (i = 0; i < this.state.data.content.length; i++) {\n        console.log(this.state.data.content[i].id, parseInt(this.state.id, 10));\n\n        if (this.state.data.content[i].id === parseInt(this.state.id, 10)) {\n          sf = this.state.data.content[i];\n          namefont = sf.font.name;\n          var columnnum = sf.column;\n          var j;\n\n          for (j = 0; j < columnnum; j++) {\n            items.push([]);\n          }\n\n          for (j = 0; j < sf.pics.length; j++) {\n            var imgitem, index;\n\n            if (this.state.generalwidth === null) {\n              imgitem = /*#__PURE__*/React.createElement(\"img\", {\n                src: sf.pics[j].src,\n                style: {\n                  width: \"100%\"\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 40\n                }\n              });\n            } else {\n              imgitem = /*#__PURE__*/React.createElement(\"img\", {\n                src: sf.pics[j].src,\n                style: {\n                  width: this.state.generalwidth / columnnum,\n                  height: this.state.generalwidth / columnnum / sf.pics[i].ratio\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 40\n                }\n              });\n            }\n\n            index = j % columnnum;\n            items[index].push( /*#__PURE__*/React.createElement(\"div\", {\n              key: sf.pics[j].src,\n              style: {\n                width: \"100%\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 29\n              }\n            }, imgitem, /*#__PURE__*/React.createElement(\"p\", {\n              style: {\n                textAlign: \"center\",\n                fontFamily: sf.font.pic_text\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }\n            }, sf.pics[j].text), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }\n            })));\n          }\n\n          break;\n        }\n      }\n    } else {\n      namefont = \"\";\n    }\n\n    console.log(sf);\n    console.log(items);\n\n    if (sf.column === 3) {\n      return /*#__PURE__*/React.createElement(Row, {\n        ref: this.myInput,\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        ref: this.myInput,\n        style: {\n          background: \"black\"\n        },\n        xs: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }, items[0]), /*#__PURE__*/React.createElement(Col, {\n        style: {\n          background: \"red\"\n        },\n        xs: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, items[1]), /*#__PURE__*/React.createElement(Col, {\n        style: {\n          background: \"green\"\n        },\n        xs: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, items[2]));\n    } else if (sf.column === 2) {\n      return /*#__PURE__*/React.createElement(Row, {\n        ref: this.myInput,\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        style: {\n          background: \"black\"\n        },\n        xs: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }, items[0]), /*#__PURE__*/React.createElement(Col, {\n        style: {\n          background: \"black\"\n        },\n        xs: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }, items[1]));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.myInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      });\n    }\n  }\n\n}\n\n;\nexport default Album;","map":{"version":3,"sources":["/Users/zhangzirao/Desktop/website/Archive/src/component/Album.js"],"names":["React","Component","Card","CardColumns","Col","Row","Album","constructor","props","state","data","id","type","generalwidth","myInput","createRef","getdata","mycomp","fetch","then","response","json","responseData","setState","catch","error","console","log","componentWillReceiveProps","nextProps","componentDidMount","_id","match","params","window","innerWidth","innerHeight","current","offsetWidth","render","items","i","sf","namefont","content","length","parseInt","font","name","columnnum","column","j","push","pics","imgitem","index","src","width","height","ratio","textAlign","fontFamily","pic_text","text","justifyContent","alignItems","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import Dimensions from 'react-dimensions';\n\nimport {Card, CardColumns, Col, Row} from 'react-bootstrap'\n\nclass Album extends Component {\n    constructor(props){\n        super(props);\n\n        this.state={\n            data:null,\n            id:null,\n            type:null,\n            generalwidth:null\n        }\n\n        this.myInput=React.createRef()\n    }\n\n    getdata(){\n        let mycomp = this;\n        fetch('/data/data.json').then(\n            function(response){\n                return response.json()\n            }\n        ).then(\n            function(responseData){\n                // console.log(responseData)\n                mycomp.setState({data:responseData[mycomp.state.type]})\n            }\n        ).catch(\n            function(error){\n                console.log(error)\n            }\n        )\n    }\n\n    componentWillReceiveProps(nextProps){\n        if(this.props.type !== nextProps.type){\n            console.log(this.props.type)\n            this.setState({type:nextProps.type})\n            this.getdata()\n        }\n    }\n\n    componentDidMount(){\n        var _id = this.props.match.params.id\n        this.setState({id:_id, type:this.props.type})\n        this.getdata()\n        console.log(window.innerWidth, window.innerHeight, this.myInput.current.offsetWidth)\n        this.setState({generalwidth:this.myInput.current.offsetWidth})\n    }\n\n    render(){\n        var items,i,sf,namefont;\n        items=[];\n        sf = {\n            \"name\":\"Unknown\",\n            \"column\":0\n        }\n        console.log(this.state.data)\n        if(this.state.data !== null){\n            \n            for(i=0;i<this.state.data.content.length;i++){\n                console.log(this.state.data.content[i].id,parseInt(this.state.id,10))\n                if(this.state.data.content[i].id === parseInt(this.state.id,10)){\n                    sf = this.state.data.content[i]\n                    namefont=sf.font.name\n\n                    var columnnum = sf.column\n\n                    var j;\n                    for(j=0;j<columnnum;j++){\n                        items.push([])\n                    }\n                    for (j=0;j<sf.pics.length;j++){\n                        var imgitem,index\n                        if(this.state.generalwidth === null){\n                            imgitem = (<img src={sf.pics[j].src} style={{width:\"100%\"}} />)\n                        }else{\n                            imgitem = (<img src={sf.pics[j].src} style={{width:this.state.generalwidth/columnnum, height:this.state.generalwidth/columnnum/sf.pics[i].ratio}} />)\n                        }\n                        index = j % columnnum\n                        items[index].push(\n                            <div key={sf.pics[j].src} style={{width:\"100%\"}}>\n                                {imgitem}\n                                <p style={{textAlign:\"center\", fontFamily:sf.font.pic_text}}>{sf.pics[j].text}</p>\n                                <br />\n                            </div>\n                        )\n                    }\n                    break;\n                }\n            }\n        }else{\n            namefont = \"\"\n        }\n\n        \n\n        console.log(sf)\n        console.log(items)\n\n        if(sf.column === 3){\n            return (\n                <Row ref={this.myInput} style={{justifyContent:\"center\",alignItems:\"center\"}}>\n                    <Col ref={this.myInput} style={{background:\"black\"}} xs={3}>\n                        {items[0]}\n                    </Col>\n                    <Col style={{background:\"red\"}} xs={3}>\n                        {items[1]}\n                    </Col>\n                    <Col style={{background:\"green\"}} xs={3}>\n                        {items[2]}\n                    </Col>\n                </Row>\n            )\n        }else if(sf.column === 2){\n            return (\n                <Row ref={this.myInput} style={{justifyContent:\"center\",alignItems:\"center\"}}>\n                    <Col style={{background:\"black\"}} xs={5}>\n                        {items[0]}\n                    </Col>\n                    <Col style={{background:\"black\"}} xs={5}>\n                        {items[1]}\n                    </Col>\n                </Row>\n            )\n        }else{\n            return (\n                <div ref={this.myInput}></div>\n            )\n        }\n        \n        \n    }\n};\n\nexport default Album;"]},"metadata":{},"sourceType":"module"}