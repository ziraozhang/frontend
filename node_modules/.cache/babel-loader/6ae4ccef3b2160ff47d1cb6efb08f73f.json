{"ast":null,"code":"import _classCallCheck from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';// import Dimensions from 'react-dimensions';\nimport{Card,CardColumns,Col,Row}from'react-bootstrap';var Album=/*#__PURE__*/function(_Component){_inherits(Album,_Component);var _super=_createSuper(Album);function Album(props){var _this;_classCallCheck(this,Album);_this=_super.call(this,props);_this.state={data:null,id:null,type:null,generalwidth:null};_this.myInput=React.createRef();return _this;}_createClass(Album,[{key:\"getdata\",value:function getdata(){var mycomp=this;fetch('/data/data.json').then(function(response){return response.json();}).then(function(responseData){// console.log(responseData)\nmycomp.setState({data:responseData[mycomp.state.type]});}).catch(function(error){console.log(error);});}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(this.props.type!==nextProps.type){console.log(this.props.type);this.setState({type:nextProps.type});this.getdata();}}},{key:\"componentDidMount\",value:function componentDidMount(){var _id=this.props.match.params.id;this.setState({id:_id,type:this.props.type});this.getdata();console.log(window.innerWidth,window.innerHeight,this.myInput.current.offsetWidth);this.setState({generalwidth:this.myInput.current.offsetWidth});}},{key:\"render\",value:function render(){var items,i,sf,namefont;items=[];sf={\"name\":\"Unknown\"};console.log(this.state.data);if(this.state.data!==null){namefont=this.state.data.font.name;for(i=0;i<this.state.data.content.length;i++){console.log(this.state.data.content[i].id,parseInt(this.state.id,10));if(this.state.data.content[i].id===parseInt(this.state.id,10)){sf=this.state.data.content[i];var j;for(j=0;j<sf.pics.length;j++){var imgitem;if(this.state.generalwidth===null){imgitem=/*#__PURE__*/React.createElement(\"img\",{src:sf.pics[j].src,style:{width:\"100%\"}});}else{imgitem=/*#__PURE__*/React.createElement(\"img\",{src:sf.pics[j].src,style:{width:this.state.generalwidth,height:this.state.generalwidth/sf.pics[i].ratio}});}items.push(/*#__PURE__*/React.createElement(\"div\",{key:sf.pics[j].src,style:{width:\"100%\"}},imgitem,/*#__PURE__*/React.createElement(\"p\",{style:{textAlign:\"center\",fontFamily:sf.font.text}},sf.pics[j].text),/*#__PURE__*/React.createElement(\"br\",null)));}break;}}}else{namefont=\"\";}console.log(items);return/*#__PURE__*/React.createElement(Row,{style:{justifyContent:\"center\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(Col,{ref:this.myInput,style:{borderColor:\"black\"},xs:10},/*#__PURE__*/React.createElement(\"h1\",{style:{color:\"black\",textAlign:\"center\",fontFamily:namefont}},sf.name),items));}}]);return Album;}(Component);;export default Album;","map":{"version":3,"sources":["/Users/zhangzirao/Desktop/website/Archive/src/component/Album.js"],"names":["React","Component","Card","CardColumns","Col","Row","Album","props","state","data","id","type","generalwidth","myInput","createRef","mycomp","fetch","then","response","json","responseData","setState","catch","error","console","log","nextProps","getdata","_id","match","params","window","innerWidth","innerHeight","current","offsetWidth","items","i","sf","namefont","font","name","content","length","parseInt","j","pics","imgitem","src","width","height","ratio","push","textAlign","fontFamily","text","justifyContent","alignItems","borderColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import Dimensions from 'react-dimensions';\n\nimport {Card, CardColumns, Col, Row} from 'react-bootstrap'\n\nclass Album extends Component {\n    constructor(props){\n        super(props);\n\n        this.state={\n            data:null,\n            id:null,\n            type:null,\n            generalwidth:null\n        }\n\n        this.myInput=React.createRef()\n    }\n\n    getdata(){\n        let mycomp = this;\n        fetch('/data/data.json').then(\n            function(response){\n                return response.json()\n            }\n        ).then(\n            function(responseData){\n                // console.log(responseData)\n                mycomp.setState({data:responseData[mycomp.state.type]})\n            }\n        ).catch(\n            function(error){\n                console.log(error)\n            }\n        )\n    }\n\n    componentWillReceiveProps(nextProps){\n        if(this.props.type !== nextProps.type){\n            console.log(this.props.type)\n            this.setState({type:nextProps.type})\n            this.getdata()\n        }\n    }\n\n    componentDidMount(){\n        var _id = this.props.match.params.id\n        this.setState({id:_id, type:this.props.type})\n        this.getdata()\n        console.log(window.innerWidth, window.innerHeight, this.myInput.current.offsetWidth)\n        this.setState({generalwidth:this.myInput.current.offsetWidth})\n    }\n\n    render(){\n        var items,i,sf,namefont;\n        items=[];\n        sf = {\n            \"name\":\"Unknown\"\n        }\n        console.log(this.state.data)\n        if(this.state.data !== null){\n            namefont=this.state.data.font.name\n            for(i=0;i<this.state.data.content.length;i++){\n                console.log(this.state.data.content[i].id,parseInt(this.state.id,10))\n                if(this.state.data.content[i].id === parseInt(this.state.id,10)){\n                    sf = this.state.data.content[i]\n                    var j;\n                    for (j=0;j<sf.pics.length;j++){\n                        var imgitem\n                        if(this.state.generalwidth === null){\n                            imgitem = (<img src={sf.pics[j].src} style={{width:\"100%\"}} />)\n                        }else{\n                            imgitem = (<img src={sf.pics[j].src} style={{width:this.state.generalwidth, height:this.state.generalwidth/sf.pics[i].ratio}} />)\n                        }\n                        items.push(\n                            <div key={sf.pics[j].src} style={{width:\"100%\"}}>\n                                {imgitem}\n                                <p style={{textAlign:\"center\", fontFamily:sf.font.text}}>{sf.pics[j].text}</p>\n                                <br />\n                            </div>\n                        )\n                    }\n                    break;\n                }\n            }\n        }else{\n            namefont = \"\"\n        }\n\n        console.log(items)\n        \n        return (\n            <Row style={{justifyContent:\"center\",alignItems:\"center\"}}>\n                <Col ref={this.myInput} style={{borderColor:\"black\"}} xs={10}>\n                    <h1 style={{color:\"black\", textAlign:\"center\", fontFamily:namefont}}>{sf.name}</h1>\n                    {items}\n                </Col>\n            </Row>\n        );\n    }\n};\n\nexport default Album;"]},"metadata":{},"sourceType":"module"}