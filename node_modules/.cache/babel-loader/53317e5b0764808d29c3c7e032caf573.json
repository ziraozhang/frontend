{"ast":null,"code":"import _classCallCheck from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/zhangzirao/Desktop/website/Archive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Carousel from'react-bootstrap/Carousel';import{CaretRightFill,CaretLeftFill,ChevronLeft,ChevronRight}from'react-bootstrap-icons';var CarouselPage=/*#__PURE__*/function(_Component){_inherits(CarouselPage,_Component);var _super=_createSuper(CarouselPage);function CarouselPage(props){var _this;_classCallCheck(this,CarouselPage);_this=_super.call(this,props);// console.log(this.props)\n_this.state={data:_this.props.data,index:_this.props.index,interval:5000};_this.handleSelect=_this.handleSelect.bind(_assertThisInitialized(_this));return _this;}// componentDidMount(){\n//     let mycomp = this;\n//     fetch('/data/data.json').then(\n//         function(response){\n//             return response.json()\n//         }\n//     ).then(\n//         function(responseData){\n//             // console.log(responseData)\n//             mycomp.setState({data:responseData.homepage})\n//         }\n//     ).catch(\n//         function(error){\n//             console.log(error)\n//         }\n//     )\n// }\n_createClass(CarouselPage,[{key:\"handleSelect\",value:function handleSelect(selectedIndex,e){this.setState({index:selectedIndex});}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextprops){if(this.props.data!=nextprops.data){this.setState({data:nextprops.data,index:nextprops.index,interval:nextprops.interval});}}},{key:\"render\",value:function render(){var items,i;items=[];// console.log(\"index\",this.state.index)\nif(this.state.data!=null&&this.state.data.pics!=null){for(i=0;i<this.state.data.pics.length;i++){// console.log(this.state.data.homepage[i])\n// calculate img height & width\nitems.push(/*#__PURE__*/React.createElement(Carousel.Item,{key:this.state.data.pics[i].src},/*#__PURE__*/React.createElement(\"img\",{className:\"d-block w-100\",src:this.state.data.pics[i].src,alt:this.state.data.pics[i].src// style={{height:realheight, width:realwidth}}\n}),/*#__PURE__*/React.createElement(Carousel.Caption,null,/*#__PURE__*/React.createElement(\"h3\",{style:{fontFamily:this.state.data.font.title}},this.state.data.pics[i].title),/*#__PURE__*/React.createElement(\"p\",{style:{fontFamily:this.state.data.font.text}},this.state.data.pics[i].text))));}}return/*#__PURE__*/React.createElement(Carousel,{nextIcon:/*#__PURE__*/React.createElement(ChevronRight,{style:{color:\"#b3b3b3\"},size:70}),interval:this.state.interval,prevIcon:/*#__PURE__*/React.createElement(ChevronLeft,{style:{color:\"#b3b3b3\"},size:70}),activeIndex:this.state.index===null?0:this.state.index,onSelect:this.handleSelect},items);}}]);return CarouselPage;}(Component);;export default CarouselPage;","map":{"version":3,"sources":["/Users/zhangzirao/Desktop/website/Archive/src/component/Carousel.js"],"names":["React","Component","Carousel","CaretRightFill","CaretLeftFill","ChevronLeft","ChevronRight","CarouselPage","props","state","data","index","interval","handleSelect","bind","selectedIndex","e","setState","nextprops","items","i","pics","length","push","src","fontFamily","font","title","text","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Carousel from 'react-bootstrap/Carousel'\nimport {CaretRightFill, CaretLeftFill, ChevronLeft, ChevronRight} from 'react-bootstrap-icons'\n\nclass CarouselPage extends Component {\n    constructor(props){\n        super(props);\n        // console.log(this.props)\n        this.state={\n            data:this.props.data,\n            index:this.props.index,\n            interval:5000,\n        }\n        this.handleSelect=this.handleSelect.bind(this)\n    }\n\n    // componentDidMount(){\n    //     let mycomp = this;\n    //     fetch('/data/data.json').then(\n    //         function(response){\n    //             return response.json()\n    //         }\n    //     ).then(\n    //         function(responseData){\n    //             // console.log(responseData)\n    //             mycomp.setState({data:responseData.homepage})\n    //         }\n    //     ).catch(\n    //         function(error){\n    //             console.log(error)\n    //         }\n    //     )\n    // }\n    handleSelect(selectedIndex,e){\n        this.setState({index:selectedIndex})\n    }\n\n    componentWillReceiveProps(nextprops){\n        if(this.props.data != nextprops.data){\n            this.setState({data:nextprops.data,index:nextprops.index,interval:nextprops.interval})\n        }\n    }\n\n    render(){\n\n        var items,i;\n        items=[];\n        // console.log(\"index\",this.state.index)\n        if(this.state.data != null && this.state.data.pics != null){\n            for(i=0;i<this.state.data.pics.length;i++){\n                // console.log(this.state.data.homepage[i])\n                // calculate img height & width\n\n                items.push(\n                    <Carousel.Item\n                    key={this.state.data.pics[i].src}\n                    >\n                        <img\n                        className=\"d-block w-100\"\n                        src={this.state.data.pics[i].src}\n                        alt={this.state.data.pics[i].src}\n                        // style={{height:realheight, width:realwidth}}\n                        />\n                        <Carousel.Caption>\n                        <h3 style={{fontFamily:this.state.data.font.title}}>{this.state.data.pics[i].title}</h3>\n                        <p style={{fontFamily:this.state.data.font.text}}>{this.state.data.pics[i].text}</p>\n                        </Carousel.Caption>\n                    </Carousel.Item>\n                )\n            }\n        } \n        \n        return (\n            <Carousel nextIcon={<ChevronRight style={{color:\"#b3b3b3\"}} size={70}/>} interval={this.state.interval} prevIcon={<ChevronLeft style={{color:\"#b3b3b3\"}} size={70}/>} activeIndex={this.state.index===null ? 0 : this.state.index} onSelect={this.handleSelect} >\n                {items}\n            </Carousel>\n        );\n    }\n};\n\nexport default CarouselPage;"]},"metadata":{},"sourceType":"module"}